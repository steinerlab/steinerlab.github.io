---
import Layout from "@layouts/Layout.astro";
import Container from "@components/Container.astro";
import { SITE, HOME } from "@consts";
import ArrowCard from "@components/ArrowCard.astro";
import Link from "@components/Link.astro";
import { getCollection } from "astro:content";
import type { CollectionEntry } from "astro:content";
import PublicationCard from "@components/PublicationCard.astro";
import SocialIcons from "@components/SocialIcons.astro";

const blog = (await getCollection("blog"))
  .filter((post) => !post.data.draft)
  .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
  .slice(0, SITE.NUM_POSTS_ON_HOMEPAGE);

const publications: CollectionEntry<"publications">[] = (
  await getCollection("publications")
)
  .sort((a, b) => b.data.date.valueOf() - a.data.date.valueOf())
  .slice(0, SITE.NUM_PUBLICATIONS_ON_HOMEPAGE);

const flagshipProjects = [
  {
    id: "nisar",
    name: "NISAR Wetlands & Freeze/Thaw Validation",
    logo: "/logos/nisar.svg",
    summary:
      "Operations Science Team effort validating wetlands inundation and freeze/thaw algorithms for NASA's global NISAR mission.",
    role: "Co-Investigator",
    link: "/blog/2025-nisar-wetlands-freeze-thaw",
    highlights: [
      "Developing the freeze/thaw Algorithm Theoretical Basis Document for the NISAR Science Data System.",
      "Benchmarking wetland inundation accuracy with multi-mission SAR time series across Arctic, tropical, and temperate testbeds.",
    ],
  },
  {
    id: "hiflows",
    name: "HiFLOWS Arctic Flood Surveillance",
    logo: "/logos/hiflows.svg",
    summary:
      "High-Latitude Flood and Open Water Surveillance delivers rapid-tasked SAR flood intelligence for Alaskan communities.",
    role: "Principal Investigator",
    link: "/blog/2025-hiflows-rapid-arctic-flood-response",
    highlights: [
      "Reducing flood mapping latency to under 12 hours using commercial SAR constellations from ICEYE, Capella, and Umbra.",
      "Building a validation archive that supports NISAR and Sentinel-1 inundation requirements in permafrost terrain.",
    ],
  },
  {
    id: "ecostress",
    name: "ECOSTRESS Urban Forest Resilience",
    logo: "/logos/ecostress.svg",
    summary:
      "ECOSTRESS thermal time series quantify how New York City's urban forests mitigate heat and water stress during extremes.",
    role: "Lead Investigator",
    link: "/blog/2024-ecostress-urban-forest-water-stress",
    highlights: [
      "Partitioning shade and evapotranspiration benefits with ECOSTRESS, UAVSAR, flux towers, and canopy inventories.",
      "Co-designing analytics with NYC partners to target investments in heat-vulnerable neighborhoods.",
    ],
  },
];
---

<Layout title={HOME.TITLE} description={HOME.DESCRIPTION}>
  <Container>
    <aside data-pagefind-ignore>
      <h1 class="animate font-semibold text-black dark:text-white">
        Steiner Lab | Remote Sensing of Terrestrial Hydrology
      </h1>
      <div class="space-y-16">
        <section>
          <article class="space-y-4">
            <span class="animate">
              <p>
                The Steiner Lab is led by <Link href="https://www.ccny.cuny.edu/profiles/nick-steiner">Nicholas C. Steiner</Link> in the
                Department of Earth and Atmospheric Sciences at <Link href="https://www.ccny.cuny.edu/eas">The City College of New York</Link>.
                We study how microwave remote sensing captures terrestrial water and carbon cycle processes across scales.
              </p>
              <p>
                Our team develops radar, thermal, and lidar approaches with missions such as
                <Link href="https://nisar.jpl.nasa.gov/">NASA NISAR</Link>,
                <Link href="https://smap.jpl.nasa.gov/">SMAP</Link>,
                <Link href="https://ecostress.jpl.nasa.gov/">ECOSTRESS</Link>, and
                <Link href="https://www.nasa.gov/mission/cygnss/">CYGNSS</Link>
                to resolve wetland dynamics, flood hazards, and ecosystem resilience from the Arctic to the Amazon.
              </p>
            </span>
            <span class="animate">
              <p>
                We pair field campaigns such as SMAPVEX19-22 and WETVEX with physics-based modeling and open data
                pipelines to deliver decision-ready environmental intelligence. Reach out if you are interested in
                collaborating or joining the lab's research efforts.
              </p>
            </span>
            
          </article>
        </section>

        <section class="animate space-y-2 border-2 border-red-800 text-red-800 dark:border-red-400 border-dashed p-2 dark:text-red-400">
          ðŸ“¢ðŸ“¢ Interested in ECOSTRESS, NISAR, or NYC urban forest resilience projects?
          Email <Link href="mailto:nsteiner@ccny.cuny.edu">nsteiner@ccny.cuny.edu</Link> to discuss student collaborations and data partnerships.
        </section>

        <section class="animate space-y-6">
          <span class="animate">
            <h4 class="font-semibold text-black dark:text-white">
              Let's Connect
            </h4>
            <article>
              <p>
                We enjoy teaming with municipal agencies, NASA centers, and academic collaborators.
                Connect with Nick to talk about remote sensing campaigns, open datasets, or mentoring opportunities for students.
              </p>
            </article>
            <SocialIcons icon_size={'text-3xl'} />
          </span>
        </section>

        <section class="animate space-y-6">
          <div class="flex flex-wrap items-center justify-between gap-y-2">
            <h2 class="font-semibold text-black dark:text-white">
              Flagship projects
            </h2>
          </div>
          <ul class="not-prose grid gap-6 md:grid-cols-2 xl:grid-cols-3">
            {
              flagshipProjects.map((project) => (
                <li class="border border-stone-300 bg-white/60 dark:bg-stone-900/60 dark:border-stone-700 rounded-xl p-6 shadow-sm flex flex-col gap-4">
                  <div class="flex items-center gap-4">
                    <div class="h-12 w-12 shrink-0">
                      <img src={project.logo} alt={`${project.name} logo`} class="h-12 w-12 object-contain" loading="lazy" />
                    </div>
                    <div>
                      <p class="text-xs uppercase tracking-wide text-stone-500 dark:text-stone-400">{project.role}</p>
                      <h3 class="text-lg font-semibold text-black dark:text-white">
                        <Link href={project.link}>{project.name}</Link>
                      </h3>
                    </div>
                  </div>
                  <p class="text-sm text-stone-700 dark:text-stone-300">
                    {project.summary}
                  </p>
                  <ul class="list-disc pl-5 space-y-1 text-sm text-stone-700 dark:text-stone-300">
                    {project.highlights.map((item) => (
                      <li>{item}</li>
                    ))}
                  </ul>
                  <div>
                    <Link href={project.link} class="text-sm font-medium text-red-700 dark:text-red-300 hover:underline">
                      Read the project update â†’
                    </Link>
                  </div>
                </li>
              ))
            }
          </ul>
        </section>

        <section class="animate space-y-6">
          <div class="flex flex-wrap items-center justify-between gap-y-2">
            <h2 class="font-semibold text-black dark:text-white">
              Research Interests
            </h2>
          </div>
          <ul class="not-prose flex flex-col gap-4">
            <li>Validating NISAR L- and S-band observables for wetlands inundation and freeze/thaw transitions.</li>
            <li>Rapid-tasked small-satellite SAR workflows for near-real-time flood intelligence in the Arctic.</li>
            <li>Heat mitigation and water stress analytics for urban forests using ECOSTRESS thermal time series.</li>
          </ul>
        </section>
        
        <section class="animate space-y-6">
          <div class="flex flex-wrap items-center justify-between gap-y-2">
            <h2 class="font-semibold text-black dark:text-white">
              News
            </h2>
          </div>
          <ul class="not-prose flex flex-col gap-4 overflow-y-auto max-h-[150px] scroll_bar">
            <li>
              [2025]: SMAPVEX19-22 field campaign results publish in IEEE JSTARS, highlighting the lab's contributions to forest soil moisture calibration.
            </li>
            <li>
              [2025]: NASA Earth Science to Action funds <span class="text-red-600 font-medium">HiFLOWS</span> to deliver hourly-scale SAR flood surveillance across Alaska.
            </li>
            <li>
              [2024]: NISAR Operations Science Team renews our wetlands and freeze/thaw validation work ahead of launch.
            </li>
            <li>
              [2023]: ECOSTRESS urban forest partnership expands with new canopy flux stations in the Bronx and Queens.
            </li>
          </ul>
        </section>

        <section class="animate space-y-6">
          <div class="flex flex-wrap items-center justify-between gap-y-2">
            <h2 class="font-semibold text-black dark:text-white">
              Recent research
            </h2>
            <Link href="/publications"> See all research </Link>
          </div>
          <ul class="not-prose flex flex-col gap-4">
            {
              publications.map((publication) => (
                <li>
                  <PublicationCard entry={publication} />
                </li>
              ))
            }
          </ul>
        </section>

        <section class="animate space-y-6">
          <div class="flex flex-wrap items-center justify-between gap-y-2">
            <h2 class="font-semibold text-black dark:text-white">
              Latest posts
            </h2>
            <Link href="/blog"> See all posts </Link>
          </div>
          <ul class="not-prose flex flex-col gap-4">
            {
              blog.map((post) => (
                <li>
                  <ArrowCard entry={post} />
                </li>
              ))
            }
          </ul>
        </section>

      </div>
    </aside>
  </Container>
</Layout>
